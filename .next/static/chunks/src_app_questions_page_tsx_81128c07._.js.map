{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://H%3A/REACT-JS/Dating/src/app/questions/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Image from \"next/image\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nexport default function MultiStepForm() {\r\n  const totalSteps = 3;\r\n  const totalSubSteps = 3;\r\n\r\n  // стани\r\n  const [step, setStep] = useState(1);\r\n  const [subStep, setSubStep] = useState(0);\r\n  const [selected, setSelected] = useState<string | null>(null);\r\n\r\n  // відповіді\r\n  const [subStepAnswers, setSubStepAnswers] = useState<Record<number, string>>(\r\n    {}\r\n  );\r\n  const [step2Data, setStep2Data] = useState({ country: \"\", city: \"\" });\r\n  const [step3Data, setStep3Data] = useState({\r\n    date: \"2025-10-20\",\r\n    message: \"\",\r\n  });\r\n\r\n  const options = [\r\n    \"Friends first\",\r\n    \"Casual dating\",\r\n    \"Serious relationships\",\r\n    \"Activity partner\",\r\n  ];\r\n\r\n  // --- автозавантаження даних з localStorage ---\r\n  useEffect(() => {\r\n    const storedData = localStorage.getItem(\"multiStepFormData\");\r\n    if (storedData) {\r\n      const parsed = JSON.parse(storedData);\r\n      setSelected(parsed.selectedOption || null);\r\n      setSubStepAnswers(parsed.subStepAnswers || {});\r\n      setStep2Data(parsed.step2Data || { country: \"\", city: \"\" });\r\n      setStep3Data(parsed.step3Data || { date: \"2025-10-20\", message: \"\" });\r\n\r\n      // Якщо вибрана опція з підкроками, відкриваємо перший підкрок\r\n      if (parsed.selectedOption === \"Friends first\") {\r\n        setSubStep(1);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleClick = (option: string) => {\r\n    setSelected(option);\r\n    setSubStep(option === \"Friends first\" ? 1 : 0);\r\n  };\r\n\r\n  const handleSubStepAnswer = (value: string) => {\r\n    setSubStepAnswers((prev) => ({ ...prev, [subStep]: value }));\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (subStep > 0 && subStep < totalSubSteps) {\r\n      setSubStep(subStep + 1);\r\n    } else if (subStep === totalSubSteps) {\r\n      setSubStep(0);\r\n      setStep(Math.min(step + 1, totalSteps));\r\n    } else if (step < totalSteps) {\r\n      setStep(step + 1);\r\n    } else {\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    if (subStep > 1) {\r\n      setSubStep(subStep - 1);\r\n    } else if (subStep === 1) {\r\n      setSubStep(1);\r\n    } else {\r\n      setStep(Math.max(step - 1, 1));\r\n    }\r\n  };\r\n\r\n  const progressPercentage =\r\n    subStep > 0 ? (subStep / totalSubSteps) * 100 : (step / totalSteps) * 100;\r\n\r\n  // --- збереження всіх даних у localStorage ---\r\n  const handleSubmit = () => {\r\n    const allData = {\r\n      selectedOption: selected,\r\n      subStepAnswers,\r\n      step2Data,\r\n      step3Data,\r\n    };\r\n    localStorage.setItem(\"multiStepFormData\", JSON.stringify(allData));\r\n    localStorage.setItem(\"isAuth\", \"true\");\r\n\r\n    // повертаємо на Step 1\r\n    setStep(1);\r\n    setSubStep(0);\r\n  };\r\n\r\n  return (\r\n    <section className=\"grid items-center justify-items-center sm:pt-[64px] pt-[30px] px-4 gap-16 font-[family-name:var(--font-geist-sans)]\">\r\n      <Link href=\"/\">\r\n        <Image src=\"/Logo.svg\" alt=\"Dating logo\" width={48} height={88} />\r\n      </Link>\r\n\r\n      <div className=\"w-full max-w-[596px]\">\r\n        <button onClick={prevStep} className=\"mb-4 flex items-center gap-2\">\r\n          <span className=\"transform\">&lt;-</span> Back\r\n        </button>\r\n        <div className=\"h-[4px] bg-[#D1D1D1] rounded-full mb-6\">\r\n          <div\r\n            className=\"h-[4px] bg-[#1677FF] rounded-full transition-all duration-300\"\r\n            style={{ width: `${progressPercentage}%` }}></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-[596px] mx-auto py-8 sm:bg-[#F9F9F9] sm:shadow-[0px_2px_8px_0px_#0000001F] rounded-lg w-full\">\r\n        {/* Step 1 */}\r\n        {step === 1 && subStep === 0 && (\r\n          <div className=\"flex flex-col gap-4 max-w-[400px] mx-auto sm:mb-6 mb-40\">\r\n            <h2 className=\"text-xl font-semibold text-center\">\r\n              What are you looking for?\r\n            </h2>\r\n            <div className=\"flex gap-3 flex-wrap\">\r\n              {options.map((option) => (\r\n                <button\r\n                  key={option}\r\n                  onClick={() => handleClick(option)}\r\n                  className={`px-4 py-2 rounded-lg transition-colors duration-200 ${\r\n                    selected === option\r\n                      ? \"bg-[#1677FF] text-[#fff] border-blue-500\"\r\n                      : \"bg-[#fff] text-black hover:bg-gray-100\"\r\n                  }`}>\r\n                  {option}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Підкроки Step 1 */}\r\n        {step === 1 && subStep > 0 && (\r\n          <div className=\"flex flex-col gap-4 max-w-[400px] mx-auto\">\r\n            <h2 className=\"text-xl font-semibold\">\r\n              Friends first — Step {subStep}\r\n            </h2>\r\n            {[1, 2, 3].map((s) =>\r\n              subStep === s ? (\r\n                <input\r\n                  key={s}\r\n                  type=\"text\"\r\n                  value={subStepAnswers[s] || \"\"}\r\n                  onChange={(e) => handleSubStepAnswer(e.target.value)}\r\n                  placeholder={`Question ${s} about friendship…`}\r\n                  className=\"border p-2 rounded w-full\"\r\n                />\r\n              ) : null\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 2 */}\r\n        {step === 2 && (\r\n          <div className=\"flex flex-col gap-4 max-w-[400px] mx-auto\">\r\n            <h2 className=\"text-xl font-semibold text-center\">\r\n              Where do you live?\r\n            </h2>\r\n            <label>Country</label>\r\n            <select\r\n              value={step2Data.country}\r\n              onChange={(e) =>\r\n                setStep2Data({ ...step2Data, country: e.target.value })\r\n              }\r\n              className=\"border p-2 rounded w-full\">\r\n              <option value=\"\">Select country</option>\r\n              <option value=\"ua\">Ukraine</option>\r\n              <option value=\"pl\">Poland</option>\r\n              <option value=\"de\">Germany</option>\r\n            </select>\r\n\r\n            <label>City</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"City\"\r\n              value={step2Data.city}\r\n              onChange={(e) =>\r\n                setStep2Data({ ...step2Data, city: e.target.value })\r\n              }\r\n              className=\"border p-2 rounded w-full\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Step 3 */}\r\n        {step === 3 && (\r\n          <div className=\"flex flex-col gap-4 max-w-[400px] mx-auto\">\r\n            <h2 className=\"text-xl font-semibold text-center\">\r\n              Tell us about yourself\r\n            </h2>\r\n\r\n            <label>Date of birth</label>\r\n            <input\r\n              type=\"date\"\r\n              value={step3Data.date}\r\n              onChange={(e) =>\r\n                setStep3Data({ ...step3Data, date: e.target.value })\r\n              }\r\n              className=\"border p-2 rounded w-full\"\r\n            />\r\n\r\n            <label>Biography</label>\r\n            <textarea\r\n              value={step3Data.message}\r\n              onChange={(e) =>\r\n                setStep3Data({ ...step3Data, message: e.target.value })\r\n              }\r\n              rows={4}\r\n              placeholder=\"Enter\"\r\n              className=\"border p-2 rounded w-full\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={nextStep}\r\n          className=\"bg-[#1677FF] hover:bg-[#2b7ff5] text-white rounded-[10px] text-base py-2 w-full flex justify-center items-center gap-2 mt-4\">\r\n          {step === totalSteps ? \"Save\" : \"Continue\"} <span>-&gt;</span>\r\n        </button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}